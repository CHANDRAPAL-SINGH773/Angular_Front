<div class='custom-loader' *ngIf="loaderflag" id=loader >
	<img src='../../../../../assets/images/loader.gif' alt=''>
	Loading...
</div>

<div class="common-page-wrapper form-page">
    <!-- top breadcrumbs wrap -->
    <div class="bread-btn-wrap">
        <ul class="custom-breadcrumbs">
            <li><a [routerLink]="['/Dashboard']" href="#" class="main-base" title="Dashboard">Dashboard</a></li>
        </ul>
    </div>

    <!-- table cards -->
    <div class="custom-card">
        <div class="heading-wrap">
            <h1>My Profile</h1>
            <a (click)="editProfile()" title="Add New Shift" class="custom-btn m-0"
                style="width: auto; border-radius: 20px; margin: 0 !important;">Edit Profile</a>
        </div>
        <form class="edit-profile-form" [formGroup]="userProfileForm">
            <div class="custom-form-wrapper d-flex align-items-start">
                <div class="nav flex-column nav-pills">
                    <!-- profile image -->
                    <div class="edit-image">
                        <div class="circle">
                            <img id="blah" class="profile-pic"
                             [src]="imageSrc || '../../../../../assets/images/profile-holder.png'" alt="your image" />
                        </div>
                        <div class="upload-block">
                            <a (click)="resetFileUploader()" class="remove-wrap">
                                <img src="../../../../../assets/images/delete-red.svg" alt="">
                            </a>
                            <a class="upload-btn" title="Browse"> Browse
                                <input class="file-upload" type="file" #file name="file"
                                  accept="image/png,image/gif,image/jpeg" (change)="onAttachment($event)" />
                              </a>
                        </div>
                    </div>
                </div>
                <div class="tab-content">
                    <div class="form-wrapper">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-field">
                                    <mat-form-field appearance="fill">
                                        <mat-label>First Name</mat-label>
                                        <input type="text" maxlength="50" minlength="50" formControlName="FirstName" matInput [readonly]="isReadonly">
                                        <mat-error *ngIf="'FirstName.invalid'">First Name is required</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-field">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Last Name</mat-label>
                                        <input type="text" maxlength="50" minlength="50" formControlName="LastName" matInput autocomplete="new-name"
                                            [readonly]="isReadonly">
                                            <mat-error *ngIf="'LastName.invalid'">Last Name is required</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-field">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Email</mat-label>
                                        <input type="text" maxlength="100" formControlName="Email" matInput autocomplete="new-name"
                                            [readonly]="isReadonly">
                                            <mat-error *ngIf="'Email.invalid'">Email is required</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>


                            <div class="col-md-6">
                                <div class="form-field">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Phone Number</mat-label>
                                        <input type="text" mask="(000) 000-0000" placeholder="xxx-xxx-xxxx" formControlName="Phone" matInput autocomplete="new-name"
                                            [readonly]="isReadonly">
                                            <mat-error *ngIf="'Phone.invalid'">Phone is required</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-field">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Company Name</mat-label>
                                        <input type="text" maxlength="100" formControlName="CompanyName"  matInput autocomplete="new-name"
                                            [readonly]="isReadonly">
                                            <mat-error *ngIf="'Company name.invalid'">CompanyName is required</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="form-field">
                                    <mat-form-field appearance="fill">
                                        <mat-label>Location/Ward Details</mat-label>
                                        <input type="text" maxlength="250" formControlName="Location" matInput autocomplete="new-name"
                                            [readonly]="isReadonly">
                                            <mat-error *ngIf="'Location.invalid'">Location is required</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>

                        </div>
                        <div class="btn-wrap justify-content-end" *ngIf="!isReadonly">
                            <Button class="custom-btn" (click)="UpdateUserProfile()"> Save </Button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>