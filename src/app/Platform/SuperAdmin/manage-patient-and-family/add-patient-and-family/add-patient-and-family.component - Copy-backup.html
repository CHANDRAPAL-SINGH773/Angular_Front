<div class="common-page-wrapper form-page">
    <!-- top breadcrumbs wrap -->
    <div class="bread-btn-wrap">
      <ul class="custom-breadcrumbs">
        <li><a [routerLink]="['/Dashboard']" class="main-base" title="Dashboard">Dashboard</a></li>
        <li><a [routerLink]="['/Dashboard/ManagePatientFamily']" class="current" title="Manage Patient Family">Manage Patient Family</a></li>
      </ul>
    </div>
  
    <!-- table cards -->
    <div class="custom-card">
      <div class="heading-wrap">
        <h1>Add New Patient/Family</h1>
      </div>
      
      <div class="custom-form-wrapper d-flex align-items-start">
        <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
          <!-- profile image -->
          <div class="edit-image">
            <div class="circle">
              <img id="blah" class="profile-pic" [src]="imageSrc || '../../../../../assets/images/profile-holder.png'"
                alt="your image" />
            </div>
            <div class="upload-block">
              <a (click)="resetFileUploader()" class="remove-wrap">
                <img src="../../../../../assets/images/delete-red.svg" alt="">
              </a>
              <a class="upload-btn" title="Browse"> Browse
                <input class="file-upload" type="file" #file name="file"
                accept="image/png,image/gif,image/jpeg,.pdf,.doc,.docx" (change)="onAttachment($event)" />
                <input type="text" class="form-control" formControlName="PatientfamilyLogo" style="display: none;">
                <input type="text" class="form-control" formControlName="PatientFamilyId" style="display: none;">
                <input type="text" class="form-control" formControlName="UserId" style="display: none;">
           
              </a>
            </div>
          </div>
  
     
        </div>
        <div class="tab-content" id="v-pills-tabContent">
          <form class="edit-profile-form" [formGroup]="addPatientform">
           
              <div class="form-wrapper">
                <h2> Patient Family Details</h2>
                <div class="row">
                  <!-- <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                      <mat-label>Select Client</mat-label>
                      <select formControlName="SelectedClient" [ngClass]="{ 'is-invalid': submitted}">
                        <option value="2"> client 1 </option>
                      </select>
                    </div>
                  </div> -->
                  <div class="col-md-4">
                    <div class="form-field">
                        <mat-form-field appearance="fill">
                            <mat-label>Select Agency</mat-label>
                            <mat-select  matInput formControlName="AgencyName" [ngClass]="{ 'is-invalid': submitted  }">
                              <mat-option *ngFor=" let list of OrganizationList" [value]="list.AgencyId">
                                {{list.AgencyName}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="'AgencyName.invalid'">Agency is required</mat-error>
      
                          </mat-form-field>
                    
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-field">
                        <mat-form-field appearance="fill">
                            <mat-label>Select Type</mat-label>
                            <mat-select  matInput formControlName="Type" [ngClass]="{ 'is-invalid': submitted  }">
                              <mat-option  value="Patient">Patient </mat-option>
                              <mat-option  value="Family">Family </mat-option>
                            </mat-select>
                            <mat-error *ngIf="'Type.invalid'">Type is required</mat-error>
      
                          </mat-form-field>
                    
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-field">
                        <mat-form-field appearance="fill">
                            <mat-label>Shift Type</mat-label>
                            <mat-select  matInput formControlName="ShiftType" [ngClass]="{ 'is-invalid': submitted  }">
                              <mat-option  value="Long Term">Long Term </mat-option>
                              <mat-option  value="Short Term">Short Term </mat-option>
                            </mat-select>
                            <mat-error *ngIf="'ShiftType.invalid'">Shift Type is required</mat-error>
      
                          </mat-form-field>
                    
                    </div>
                  </div>
                  <div class="col-md-4">
                    
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>First Name</mat-label>
                        <input type="text"  formControlName="FirstName" maxlength="20"  matInput
                          [ngClass]="{ 'is-invalid': submitted }">
                      <mat-error *ngIf="'FirstName.invalid'">  first name is required</mat-error>
  
                      </mat-form-field>
                    </div>
                  </div>
  
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label> Last Name</mat-label>
                        <input type="text" maxlength="20"  formControlName="LastName" matInput
                          [ngClass]="{ 'is-invalid': submitted }">
                      <mat-error *ngIf="'LastName.invalid'">Contact person last name is required</mat-error>
  
                      </mat-form-field>
                    </div>
                  </div>
  
  
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label> Email</mat-label>
                        <input type="text" maxlength="50"  formControlName="Email" required matInput  [ngClass]="{ 'is-invalid': submitted  }"
                          autocomplete="new-name" ng-pattern="/^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/" >
                      <mat-error *ngIf="'Email.invalid'">Enter valid email  address</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
                  
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>Phone Number</mat-label>
                        <input mask="(000) 000-0000" formControlName="PhoneNumber" placeholder="xxx-xxx-xxxx" type="tel" matInput  [ngClass]="{ 'is-invalid': submitted  }"
                          autocomplete="new-name">
                      <mat-error *ngIf="'PhoneNumber.invalid'">Phone number is required</mat-error>
  
                      </mat-form-field>
                    </div>
                  </div>
  
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>Address</mat-label>
                        <input  required type="text" maxlength="70" formControlName="Address" matInput 
                          [ngClass]="{ 'is-invalid': submitted  }" autocomplete="new-name">
                          <mat-error *ngIf="'Address.invalid'">Agency business address is required</mat-error>
                      </mat-form-field>
                      <!-- <div *ngIf="submitted " class="invalid-feedback">
                        <div>Agency Business Address is required</div>
                      </div> -->
                    </div>
                  </div> 
  
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>Country</mat-label>
                        <mat-select  matInput  formControlName="Country" [ngClass]="{ 'is-invalid': submitted  }">
                          <mat-option *ngFor=" let list of countryList" [value]="list.CountryId">{{list.CountryName}}
                          </mat-option>
                        </mat-select>
                        <mat-error *ngIf="'Country.invalid'">Country is required</mat-error>
  
                      </mat-form-field>
  
                      <!-- <label>Country</label>
                      <select formControlName="Country" placeholder="Country" [ngClass]="{ 'is-invalid': submitted  }">
                        <option value="2">India</option>
                        <option value="3">USA</option>
                      </select> -->
                    </div>
                  </div>
  
  
  
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>State</mat-label>
                        <mat-select  matInput formControlName="State" [ngClass]="{ 'is-invalid': submitted  }"
                          autocomplete="new-name">
                          <mat-option *ngFor=" let list of stateList" [value]="list.StateId">{{list.StateName}}
                          </mat-option>
                        </mat-select>
                        <mat-error *ngIf="'State.invalid'">State is required</mat-error>
                      </mat-form-field>
                      <!-- <select formControlName="State" [ngClass]="{ 'is-invalid': submitted  }" autocomplete="new-name">
                        <option value="1">Uttarakhand</option>
                        <option value="2">Punjab</option>
                      </select> -->
                    
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>City</mat-label>
                        <input type="text" matInput formControlName="City" maxlength="25"  [ngClass]="{ 'is-invalid': submitted  }"
                          autocomplete="new-name">
                      <mat-error *ngIf="'City.invalid'">City is required</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
  
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>Zip</mat-label>
                        <input type="text" maxlength="6" minlength="3" matInput  formControlName="ZipCode"
                          [ngClass]="{ 'is-invalid': submitted  }" autocomplete="new-name">
                          <mat-error *ngIf="'ZipCode.invalid'">ZipCode is required</mat-error>
                      </mat-form-field>
                   
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>UserName</mat-label>
                        <input type="text"  maxlength="20"  matInput  formControlName="UserName"
                          [ngClass]="{ 'is-invalid': submitted  }" autocomplete="new-name">
                          <mat-error *ngIf="'UserName.invalid'">UserName is required</mat-error>
                      </mat-form-field>
                   
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>Password</mat-label>
                        <input type="password" maxlength="15" minlength="8" formControlName="Password" matInput 
                          [ngClass]="{ 'is-invalid': submitted  }" autocomplete="new-name">
                          <mat-error *ngIf="'Password.invalid'">Password is required(Min 8 character)</mat-error>
                      </mat-form-field>
                   
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label> Confirm Password</mat-label>
                        <input type="password" maxlength="15" minlength="8"  matInput  formControlName="ConfirmPassword"
                          [ngClass]="{ 'is-invalid': submitted  }" autocomplete="new-name">
                          <mat-error *ngIf="'ConfirmPassword.invalid'">Confirm Password is required</mat-error>
                      </mat-form-field>
                   
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-field">
                        <mat-form-field appearance="fill">
                            <mat-label>Diagnosis</mat-label>
                            <mat-select matInput formControlName="Diagnosis" [ngClass]="{ 'is-invalid': submitted  }">
                              <mat-option   *ngFor=" let list of DignosisList"  [value]="list.DiagnosisId">{{list.Diagnosisname}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="'Diagnosis.invalid'">Select diagnosis</mat-error>
      
                          </mat-form-field>
                    
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div class="form-field">
                        <mat-form-field appearance="fill">
                            <mat-label>Stairs</mat-label>
                            <mat-select  matInput formControlName="Stairs" [ngClass]="{ 'is-invalid': submitted  }">
                              <mat-option  value="Yes">Yes</mat-option>
                              <mat-option  value="Yes">No</mat-option>
                            </mat-select>
                            <mat-error *ngIf="'Stairs.invalid'">Select stairs</mat-error>
      
                          </mat-form-field>
                    
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div class="form-field">
                        <mat-form-field appearance="fill">
                            <mat-label>Childrens at Home</mat-label>
                            <mat-select  matInput formControlName="ChildrenAtHome" [ngClass]="{ 'is-invalid': submitted  }">
                              <mat-option  value="One">One</mat-option>
                              <mat-option  value="Two">Two</mat-option>
                              <mat-option  value="Three">Three</mat-option>
                              <mat-option  value="Multiple">Multiple</mat-option>
                            </mat-select>
                            <mat-error *ngIf="'ChildrenAtHome.invalid'">Select children at home</mat-error>
                          </mat-form-field>
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div class="form-field">
                        <mat-form-field appearance="fill">
                            <mat-label>Pets</mat-label>
                            <mat-select  matInput formControlName="Pets" [ngClass]="{ 'is-invalid': submitted  }">
                              <mat-option  value="Dog">Dog</mat-option>
                              <mat-option  value="Cats">Cats</mat-option>
                              <mat-option  value="Others">Others</mat-option>
                            </mat-select>
                            <mat-error *ngIf="'Pets.invalid'">Select children at home</mat-error>
                          </mat-form-field>
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>Insurance</mat-label>
                        <input type="text"  maxlength="20"  matInput  formControlName="Insurance"
                          [ngClass]="{ 'is-invalid': submitted  }" autocomplete="new-name">
                          <mat-error *ngIf="'Insurance.invalid'">Enter insurance</mat-error>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div class="form-field">
                      <mat-form-field appearance="fill">
                        <mat-label>Parking On Site</mat-label>
                        <input type="text"  maxlength="20"  matInput  formControlName="ParkingOnSite"
                          [ngClass]="{ 'is-invalid': submitted  }" autocomplete="new-name">
                          <mat-error *ngIf="'ParkingOnSite.invalid'">Enter Parking On Site</mat-error>
                      </mat-form-field>
                    </div>
                  </div>

                 
                  <div class="btn-wrap">

                    <button type="button" class="custom-btn" *ngIf="addButtonflag"  (click)="AddPatientFamilyDetails()"
                      title="Save" style="margin-left: auto;">Save</button>
                      <button type="button" class="custom-btn"  *ngIf="updateButtonflag" (click)="UpdatePatientFamilyDetails()"
                      title="Save" style="margin-left: auto;">Update</button>
                  </div>
                </div>
            
  
              </div>
          
            
          </form>
        </div>
      </div>
    </div>
  
  </div>