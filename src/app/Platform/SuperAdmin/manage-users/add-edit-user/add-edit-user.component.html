<div class="common-page-wrapper form-page">
  <!-- top breadcrumbs wrap -->
  <div class="bread-btn-wrap">
    <ul class="custom-breadcrumbs">
      <li><a [routerLink]="['/Dashboard']" class="main-base" title="Dashboard">Dashboard</a></li>
      <li><a [routerLink]="['/Dashboard/ManageUsers']" class="current" title="Manage Users">Manage Users</a></li>
    </ul>
  </div>

  <!-- table cards -->
  <div class="custom-card">
    <div class="heading-wrap">
      <h1>Add New User</h1>
    </div>
    <form class="edit-profile-form" [formGroup]="addUserform">
      <div class="custom-form-wrapper d-flex align-items-start">
        <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
          <!-- profile image -->
          <div class="edit-image">
            <div class="circle">
              <img id="blah" style="width: 100px; height:100px" class="profile-pic"
                [src]="imageSrc || 'assets/images/profile-holder.png'" alt="your image" />
            </div>
            <div class="upload-block">
              <a (click)="resetFileUploader()" class="remove-wrap">
              <img src="../../../../../assets/images/delete-red.svg" alt="">
            </a>
              <a class="upload-btn" title="Browse"> Browse
                <input class="file-upload" type="file" #file name="file"
                  accept="image/png,image/gif,image/jpeg,.pdf,.doc,.docx" (change)="onAttachment($event)" />
              </a>
            </div>
          </div>
        </div>
        <div class="tab-content" id="v-pills-tabContent">
          <div class="tab-pane fade show active" id="v-pills-one" role="tabpanel" aria-labelledby="v-pills-one-tab">
            <div class="form-wrapper">
              <h2></h2>
              <div class="row">

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>Select Role</mat-label>
                      <mat-select formControlName="RoleId" placeholder="Select Role"
                        [ngClass]="{ 'is-invalid': submitted  }">
                        <mat-option *ngFor=" let roles of rolesList" value="{{roles.Id}}">{{roles.RoleName}}
                        </mat-option>
                      </mat-select>
                      <mat-error *ngIf="'RoleId.invalid'">Role is required</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>First Name</mat-label>
                      <input type="text" maxlength="50" matInput formControlName="FirstName" [ngClass]="{ 'is-invalid': submitted }"
                        autocomplete="new-name">
                        <mat-error *ngIf="'FirstName.invalid'">First name is required</mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>Last Name</mat-label>
                      <input type="text" maxlength="50" matInput formControlName="LastName" [ngClass]="{ 'is-invalid': submitted }"
                        autocomplete="new-name">
                        <mat-error *ngIf="'LastName.invalid'">Last name is required</mat-error>
                    </mat-form-field>
                  </div>
                </div>               

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>Email Address</mat-label>
                      <input type="text" maxlength="100" matInput formControlName="Email" [ngClass]="{ 'is-invalid': submitted  }"
                        autocomplete="new-name">
                        <mat-error *ngIf="'Email.invalid'">Please enter valid email address</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>Phone Number</mat-label>
                      <input type="text" mask="(000) 000-0000" placeholder="xxx-xxx-xxxx" matInput formControlName="Phone" [ngClass]="{ 'is-invalid': submitted  }"
                        autocomplete="new-name">
                        <mat-error *ngIf="'Phone.invalid'">Phone number is required</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>Address</mat-label>
                      <input type="text" maxlength="250" matInput formControlName="Address" [ngClass]="{ 'is-invalid': submitted  }"
                        autocomplete="new-name">
                        <mat-error *ngIf="'Address.invalid'">Address is required</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>Country</mat-label>
                      <mat-select formControlName="Country" placeholder="Country"
                        [ngClass]="{ 'is-invalid': submitted  }">
                        <mat-option *ngFor=" let option of countryList" value="{{option.CountryId}}">
                          {{option.CountryName}}
                        </mat-option>
                      </mat-select>
                      <mat-error *ngIf="'Country.invalid'">Country is required</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>City</mat-label>
                      <input type="text" maxlength="50" matInput formControlName="City" [ngClass]="{ 'is-invalid': submitted  }"
                        autocomplete="new-name">
                        <mat-error *ngIf="'City.invalid'">City is required</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>State</mat-label>
                      <mat-select formControlName="State" [ngClass]="{ 'is-invalid': submitted  }"
                        autocomplete="new-name">
                        <mat-option *ngFor=" let option of stateList" value="{{option.StateId}}">{{option.StateName}}
                        </mat-option>
                      </mat-select>
                      <mat-error *ngIf="'State.invalid'">State is required</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>Zip</mat-label>
                      <input type="text" maxlength="5" matInput formControlName="ZIPCode" [ngClass]="{ 'is-invalid': submitted  }"
                        autocomplete="new-name">
                        <mat-error *ngIf="'State.invalid'">ZipCode is required</mat-error>
                    </mat-form-field>
                   
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>User Name</mat-label>
                      <input type="text" matInput formControlName="UserName" [ngClass]="{ 'is-invalid': submitted  }"
                        autocomplete="new-name">
                        <mat-error *ngIf="'UserName.invalid'">UserName is required</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>Password</mat-label>
                      <input [type]="showPassword ? 'text' : 'password'" matInput formControlName="Password" [ngClass]="{ 'is-invalid': submitted }"
                        autocomplete="new-password">
                        <mat-icon matSuffix (click)="togglePasswordVisibility()">
                          {{showPassword?'visibility_off':'visibility'}}
                        </mat-icon>
                        <mat-error *ngIf="'Password.invalid'">Password is required</mat-error>
                    </mat-form-field>
                    </div>
                  </div>


                <div class="col-md-4">
                  <div class="form-field">
                    <mat-form-field appearance="fill">
                      <mat-label>Confirm Password</mat-label>
                      <input [type]="showPassword2 ? 'text' : 'password'" matInput formControlName="ConfirmPassword"
                        [ngClass]="{ 'is-invalid': submitted  }" autocomplete="new-name">
                        <mat-icon matSuffix (click)="togglePasswordVisibility2()">
                          {{showPassword2?'visibility_off':'visibility'}}
                        </mat-icon>
                        <mat-error *ngIf="'ConfirmPassword.invalid'">Confirm Password is required</mat-error>
                    </mat-form-field>
                  </div>
                </div>

              </div>
              <div class="btn-wrap">
                <Button class="custom-btn" (click)="saveUser()"> Save </Button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>