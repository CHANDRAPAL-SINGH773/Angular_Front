<div class="loader" *ngIf="loader"></div>



<div class="uploaddoc_dialog">
  <div class="modal-header">
    <h2 mat-dialog-title>Upload Document</h2>
    <mat-icon class="close_btn"  mat-button mat-dialog-close>close</mat-icon>
  </div>
  <mat-dialog-content>
    <form id="addDocumentForm" #documentForm="ngForm" class="readmin-form custom_form" [formGroup]="addDocumentForm">
      <div class="form_inner">
          <div class="form_field_wrapper">
            <label>Title</label>
            <mat-form-field appearance="fill">
              <input matInput autofocus placeholder="Title" maxlength="100" formControlName="title" 
              required />
             <mat-error  *ngIf="addDocumentForm.get('title')?.touched && addDocumentForm.get('title')?.hasError('required')">
              Please enter title
            </mat-error>
            </mat-form-field> 
          </div>

          <div class="form_field_wrapper">
            <label class="browse">
              <i class="fa fa-upload fa-2x" aria-hidden="true"></i>
              <input style="display: none;" type="file" (change)="handleImageChange($event)" accept=".jpg,.JPG,.png,.PNG,.jpeg,.JPEG,.doc,.DOC,.docx,.DOCX,.pdf,.PDF,.xls,.XLS,.xlsx,.XLSX">
            </label>
          </div>

          <div class="upload_img">
            <p *ngFor="let file of fileList;let i=index;">
               {{file.fileName}}
               <button  type="button" title="Delete" class="btn btn-light tbactionbtn" (click)="removeFile(i)">
                   <i class="fa fa-times" aria-hidden="true"></i>
                </button>
            </p> 
         </div>


      </div>
     </form>
  </mat-dialog-content>
    <mat-dialog-actions>
      <button class="btn btn-secondary" (click)="closeDialog('close')">Close</button>
      <button name="Save" color="primary" (click)="onSubmit()" form="addDocumentForm" class="btn btn-primary"
          [disabled]="submitted" cdkFocusInitial>{{submitted ? 'Uploading...' : 'Save'}}</button>
    </mat-dialog-actions>

  </div>




